var log4js=require('log4js');let programName="Adapay";var Config={};function setConfig(params){Config=params}function initDefineLogger(categories){log4js.configure({appenders:{console:{type:'console',},log_file:{type:'file',filename:Config.log_file_path+`/logs/${programName}.log`,maxLogSize:20971520,backups:3,encoding:'utf-8',},data_file:{type:"dateFile",filename:Config.log_file_path+`/logs/${programName}`,alwaysIncludePattern:true,daysToKeep:10,pattern:"-yyyy-MM-dd-hh.log",encoding:'utf-8',},error_file:{type:"dateFile",filename:Config.log_file_path+`/logs/${programName}_error`,alwaysIncludePattern:true,daysToKeep:10,pattern:"_yyyy-MM-dd.log",encoding:'utf-8',}},categories:{default:{appenders:['data_file','console','log_file'],level:'info'},production:{appenders:['data_file'],level:'info'},console:{appenders:['console'],level:'debug'},debug:{appenders:['console','log_file'],level:'debug'},error_log:{appenders:['error_file'],level:'error'},error_console:{appenders:['console','error_file'],level:'error'}},});var logger=log4js.getLogger(categories);return logger}function initErrorLogger(){log4js.configure({appenders:{console:{type:'console',},log_file:{type:'file',filename:Config.log_file_path+`/logs/${programName}.log`,maxLogSize:20971520,backups:3,encoding:'utf-8',},data_file:{type:"dateFile",filename:Config.log_file_path+`/logs/${programName}`,alwaysIncludePattern:true,daysToKeep:10,pattern:"-yyyy-MM-dd-hh.log",encoding:'utf-8',},error_file:{type:"dateFile",filename:Config.log_file_path+`/logs/${programName}_error`,alwaysIncludePattern:true,daysToKeep:10,pattern:"_yyyy-MM-dd.log",encoding:'utf-8',}},categories:{default:{appenders:['data_file','console','log_file'],level:'info'},production:{appenders:['data_file'],level:'info'},console:{appenders:['console'],level:'debug'},debug:{appenders:['console','log_file'],level:'debug'},error_log:{appenders:['error_file'],level:'error'},error_console:{appenders:['console','error_file'],level:'error'}},});var logger=log4js.getLogger('error_log');return logger}var defineLogger=null;var errorLogger=null;function info(info){if(!defineLogger){defineLogger=initDefineLogger(Config.log_console_enable?'default':'production')}defineLogger.info(info)}function warn(warning){if(!defineLogger){defineLogger=initDefineLogger(Config.log_console_enable?'default':'production')}defineLogger.warn(warning)}function error(error){if(!errorLogger){errorLogger=initErrorLogger(Config.log_console_enable?'error_console':'error_log')}errorLogger.error(error)}module.exports={setConfig,info,warn,error};